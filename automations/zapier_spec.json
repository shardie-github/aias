{
  "name": "AIAS Platform ETL Automation",
  "description": "Fallback automation spec for pulling ads/orders data if GitHub Actions unavailable",
  "version": "1.0.0",
  "triggers": [
    {
      "name": "Nightly ETL Schedule",
      "type": "schedule",
      "schedule": "0 1 * * *",
      "timezone": "America/Toronto",
      "actions": [
        {
          "name": "Pull Meta Ads",
          "type": "webhook",
          "url": "https://your-app.vercel.app/api/etl/meta-ads",
          "method": "POST",
          "headers": {
            "Authorization": "Bearer {{ZAPIER_SECRET}}"
          }
        },
        {
          "name": "Pull TikTok Ads",
          "type": "webhook",
          "url": "https://your-app.vercel.app/api/etl/tiktok-ads",
          "method": "POST",
          "headers": {
            "Authorization": "Bearer {{ZAPIER_SECRET}}"
          }
        },
        {
          "name": "Pull Shopify Orders",
          "type": "webhook",
          "url": "https://your-app.vercel.app/api/etl/shopify-orders",
          "method": "POST",
          "headers": {
            "Authorization": "Bearer {{ZAPIER_SECRET}}"
          }
        },
        {
          "name": "Compute Metrics",
          "type": "webhook",
          "url": "https://your-app.vercel.app/api/etl/compute-metrics",
          "method": "POST",
          "headers": {
            "Authorization": "Bearer {{ZAPIER_SECRET}}"
          }
        }
      ]
    }
  ],
  "fallback": {
    "enabled": true,
    "description": "Use this if GitHub Actions nightly ETL fails",
    "setup_instructions": [
      "1. Create Zapier account",
      "2. Create new Zap with Schedule trigger (daily at 1am ET)",
      "3. Add Webhook action for each ETL endpoint",
      "4. Set up error notifications (email/Slack)",
      "5. Test with dry-run mode first"
    ]
  },
  "notes": "This is a fallback automation. Primary automation is via GitHub Actions (infra/gh-actions/nightly-etl.yml)"
}
