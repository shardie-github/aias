/**
 * Internationalization (i18n) System
 * Multi-language support for the AIAS platform
 */

import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import LanguageDetector from 'i18next-browser-languagedetector';

// Translation resources
const resources = {
  en: {
    translation: {
      // Navigation
      nav: {
        home: 'Home',
        about: 'About',
        services: 'Services',
        platform: 'Platform',
        pricing: 'Pricing',
        contact: 'Contact',
        login: 'Login',
        signup: 'Sign Up',
        dashboard: 'Dashboard',
        logout: 'Logout',
      },
      
      // Common
      common: {
        loading: 'Loading...',
        error: 'Error',
        success: 'Success',
        cancel: 'Cancel',
        save: 'Save',
        delete: 'Delete',
        edit: 'Edit',
        create: 'Create',
        update: 'Update',
        search: 'Search',
        filter: 'Filter',
        sort: 'Sort',
        refresh: 'Refresh',
        back: 'Back',
        next: 'Next',
        previous: 'Previous',
        close: 'Close',
        open: 'Open',
        yes: 'Yes',
        no: 'No',
        ok: 'OK',
        retry: 'Retry',
        tryAgain: 'Try Again',
        learnMore: 'Learn More',
        getStarted: 'Get Started',
        viewDetails: 'View Details',
        readMore: 'Read More',
        showLess: 'Show Less',
        showMore: 'Show More',
      },

      // Forms
      forms: {
        required: 'This field is required',
        email: 'Please enter a valid email address',
        password: 'Password must be at least 8 characters',
        confirmPassword: 'Passwords do not match',
        phone: 'Please enter a valid phone number',
        url: 'Please enter a valid URL',
        minLength: 'Must be at least {{count}} characters',
        maxLength: 'Must be no more than {{count}} characters',
        min: 'Must be at least {{count}}',
        max: 'Must be no more than {{count}}',
        pattern: 'Please enter a valid format',
        unique: 'This value is already taken',
        invalid: 'Invalid value',
        tooShort: 'Too short',
        tooLong: 'Too long',
        tooSmall: 'Too small',
        tooLarge: 'Too large',
      },

      // Authentication
      auth: {
        login: 'Login',
        logout: 'Logout',
        signup: 'Sign Up',
        email: 'Email',
        password: 'Password',
        confirmPassword: 'Confirm Password',
        forgotPassword: 'Forgot Password?',
        rememberMe: 'Remember Me',
        createAccount: 'Create Account',
        alreadyHaveAccount: 'Already have an account?',
        dontHaveAccount: "Don't have an account?",
        loginWith: 'Login with',
        signupWith: 'Sign up with',
        or: 'Or',
        terms: 'Terms of Service',
        privacy: 'Privacy Policy',
        agreeToTerms: 'I agree to the {{terms}} and {{privacy}}',
        loginSuccess: 'Login successful',
        logoutSuccess: 'Logout successful',
        signupSuccess: 'Account created successfully',
        invalidCredentials: 'Invalid email or password',
        accountExists: 'An account with this email already exists',
        weakPassword: 'Password is too weak',
        emailSent: 'Email sent successfully',
        passwordReset: 'Password reset successfully',
      },

      // Dashboard
      dashboard: {
        title: 'Dashboard',
        welcome: 'Welcome back, {{name}}!',
        overview: 'Overview',
        analytics: 'Analytics',
        projects: 'Projects',
        team: 'Team',
        settings: 'Settings',
        recentActivity: 'Recent Activity',
        quickActions: 'Quick Actions',
        notifications: 'Notifications',
        noNotifications: 'No notifications',
        markAllRead: 'Mark all as read',
        viewAll: 'View All',
      },

      // Platform
      platform: {
        title: 'AI Platform',
        description: 'Build and deploy AI agents with ease',
        features: 'Features',
        pricing: 'Pricing',
        documentation: 'Documentation',
        support: 'Support',
        community: 'Community',
        marketplace: 'Marketplace',
        templates: 'Templates',
        agents: 'Agents',
        workflows: 'Workflows',
        integrations: 'Integrations',
        api: 'API',
        sdk: 'SDK',
        examples: 'Examples',
        tutorials: 'Tutorials',
        blog: 'Blog',
        news: 'News',
        updates: 'Updates',
        changelog: 'Changelog',
        roadmap: 'Roadmap',
        status: 'Status',
        security: 'Security',
        compliance: 'Compliance',
        privacy: 'Privacy',
        terms: 'Terms',
        legal: 'Legal',
      },

      // Pricing
      pricing: {
        title: 'Pricing',
        subtitle: 'Choose the plan that fits your needs',
        monthly: 'Monthly',
        yearly: 'Yearly',
        save: 'Save {{percent}}%',
        popular: 'Popular',
        recommended: 'Recommended',
        getStarted: 'Get Started',
        contactSales: 'Contact Sales',
        freeTrial: 'Free Trial',
        cancelAnytime: 'Cancel anytime',
        noCreditCard: 'No credit card required',
        features: 'Features',
        includes: 'Includes',
        notIncluded: 'Not included',
        customPricing: 'Custom Pricing',
        enterprise: 'Enterprise',
        contactUs: 'Contact Us',
        comparePlans: 'Compare Plans',
        seeAllFeatures: 'See All Features',
        hideFeatures: 'Hide Features',
      },

      // Errors
      errors: {
        pageNotFound: 'Page Not Found',
        pageNotFoundDescription: 'The page you are looking for does not exist.',
        serverError: 'Server Error',
        serverErrorDescription: 'Something went wrong on our end. Please try again later.',
        networkError: 'Network Error',
        networkErrorDescription: 'Please check your internet connection and try again.',
        unauthorized: 'Unauthorized',
        unauthorizedDescription: 'You do not have permission to access this resource.',
        forbidden: 'Forbidden',
        forbiddenDescription: 'Access to this resource is forbidden.',
        tooManyRequests: 'Too Many Requests',
        tooManyRequestsDescription: 'You have made too many requests. Please try again later.',
        validationError: 'Validation Error',
        validationErrorDescription: 'Please check your input and try again.',
        genericError: 'An unexpected error occurred',
        genericErrorDescription: 'Please try again or contact support if the problem persists.',
      },

      // Success Messages
      success: {
        saved: 'Changes saved successfully',
        created: 'Created successfully',
        updated: 'Updated successfully',
        deleted: 'Deleted successfully',
        sent: 'Sent successfully',
        uploaded: 'Uploaded successfully',
        downloaded: 'Downloaded successfully',
        copied: 'Copied to clipboard',
        shared: 'Shared successfully',
        published: 'Published successfully',
        unpublished: 'Unpublished successfully',
        activated: 'Activated successfully',
        deactivated: 'Deactivated successfully',
        enabled: 'Enabled successfully',
        disabled: 'Disabled successfully',
      },

      // Time and Date
      time: {
        now: 'Now',
        today: 'Today',
        yesterday: 'Yesterday',
        tomorrow: 'Tomorrow',
        thisWeek: 'This Week',
        lastWeek: 'Last Week',
        nextWeek: 'Next Week',
        thisMonth: 'This Month',
        lastMonth: 'Last Month',
        nextMonth: 'Next Month',
        thisYear: 'This Year',
        lastYear: 'Last Year',
        nextYear: 'Next Year',
        ago: '{{time}} ago',
        in: 'In {{time}}',
        seconds: '{{count}} second',
        seconds_plural: '{{count}} seconds',
        minutes: '{{count}} minute',
        minutes_plural: '{{count}} minutes',
        hours: '{{count}} hour',
        hours_plural: '{{count}} hours',
        days: '{{count}} day',
        days_plural: '{{count}} days',
        weeks: '{{count}} week',
        weeks_plural: '{{count}} weeks',
        months: '{{count}} month',
        months_plural: '{{count}} months',
        years: '{{count}} year',
        years_plural: '{{count}} years',
      },

      // File Upload
      upload: {
        title: 'Upload Files',
        dragDrop: 'Drag and drop files here, or click to select',
        selectFiles: 'Select Files',
        uploading: 'Uploading...',
        uploadComplete: 'Upload complete',
        uploadFailed: 'Upload failed',
        fileTooLarge: 'File is too large',
        fileTypeNotSupported: 'File type not supported',
        maxFilesExceeded: 'Maximum number of files exceeded',
        removeFile: 'Remove file',
        retryUpload: 'Retry upload',
        cancelUpload: 'Cancel upload',
        uploadProgress: 'Upload progress: {{percent}}%',
      },

      // AI Features
      ai: {
        title: 'AI Features',
        chat: 'AI Chat',
        assistant: 'AI Assistant',
        generate: 'Generate',
        analyze: 'Analyze',
        optimize: 'Optimize',
        predict: 'Predict',
        recommend: 'Recommend',
        translate: 'Translate',
        summarize: 'Summarize',
        extract: 'Extract',
        classify: 'Classify',
        detect: 'Detect',
        recognize: 'Recognize',
        process: 'Process',
        thinking: 'Thinking...',
        processing: 'Processing...',
        generating: 'Generating...',
        analyzing: 'Analyzing...',
        complete: 'Complete',
        failed: 'Failed',
        retry: 'Retry',
        newChat: 'New Chat',
        clearChat: 'Clear Chat',
        exportChat: 'Export Chat',
        shareChat: 'Share Chat',
        saveChat: 'Save Chat',
        loadChat: 'Load Chat',
        deleteChat: 'Delete Chat',
      },
    },
  },
  
  es: {
    translation: {
      // Navigation
      nav: {
        home: 'Inicio',
        about: 'Acerca de',
        services: 'Servicios',
        platform: 'Plataforma',
        pricing: 'Precios',
        contact: 'Contacto',
        login: 'Iniciar Sesión',
        signup: 'Registrarse',
        dashboard: 'Panel',
        logout: 'Cerrar Sesión',
      },
      
      // Common
      common: {
        loading: 'Cargando...',
        error: 'Error',
        success: 'Éxito',
        cancel: 'Cancelar',
        save: 'Guardar',
        delete: 'Eliminar',
        edit: 'Editar',
        create: 'Crear',
        update: 'Actualizar',
        search: 'Buscar',
        filter: 'Filtrar',
        sort: 'Ordenar',
        refresh: 'Actualizar',
        back: 'Atrás',
        next: 'Siguiente',
        previous: 'Anterior',
        close: 'Cerrar',
        open: 'Abrir',
        yes: 'Sí',
        no: 'No',
        ok: 'OK',
        retry: 'Reintentar',
        tryAgain: 'Intentar de Nuevo',
        learnMore: 'Saber Más',
        getStarted: 'Comenzar',
        viewDetails: 'Ver Detalles',
        readMore: 'Leer Más',
        showLess: 'Mostrar Menos',
        showMore: 'Mostrar Más',
      },

      // Forms
      forms: {
        required: 'Este campo es obligatorio',
        email: 'Por favor ingrese una dirección de email válida',
        password: 'La contraseña debe tener al menos 8 caracteres',
        confirmPassword: 'Las contraseñas no coinciden',
        phone: 'Por favor ingrese un número de teléfono válido',
        url: 'Por favor ingrese una URL válida',
        minLength: 'Debe tener al menos {{count}} caracteres',
        maxLength: 'No debe tener más de {{count}} caracteres',
        min: 'Debe ser al menos {{count}}',
        max: 'No debe ser más de {{count}}',
        pattern: 'Por favor ingrese un formato válido',
        unique: 'Este valor ya está en uso',
        invalid: 'Valor inválido',
        tooShort: 'Muy corto',
        tooLong: 'Muy largo',
        tooSmall: 'Muy pequeño',
        tooLarge: 'Muy grande',
      },

      // Authentication
      auth: {
        login: 'Iniciar Sesión',
        logout: 'Cerrar Sesión',
        signup: 'Registrarse',
        email: 'Email',
        password: 'Contraseña',
        confirmPassword: 'Confirmar Contraseña',
        forgotPassword: '¿Olvidaste tu contraseña?',
        rememberMe: 'Recordarme',
        createAccount: 'Crear Cuenta',
        alreadyHaveAccount: '¿Ya tienes una cuenta?',
        dontHaveAccount: '¿No tienes una cuenta?',
        loginWith: 'Iniciar sesión con',
        signupWith: 'Registrarse con',
        or: 'O',
        terms: 'Términos de Servicio',
        privacy: 'Política de Privacidad',
        agreeToTerms: 'Acepto los {{terms}} y la {{privacy}}',
        loginSuccess: 'Inicio de sesión exitoso',
        logoutSuccess: 'Cierre de sesión exitoso',
        signupSuccess: 'Cuenta creada exitosamente',
        invalidCredentials: 'Email o contraseña inválidos',
        accountExists: 'Ya existe una cuenta con este email',
        weakPassword: 'La contraseña es muy débil',
        emailSent: 'Email enviado exitosamente',
        passwordReset: 'Contraseña restablecida exitosamente',
      },

      // Dashboard
      dashboard: {
        title: 'Panel',
        welcome: '¡Bienvenido de vuelta, {{name}}!',
        overview: 'Resumen',
        analytics: 'Analíticas',
        projects: 'Proyectos',
        team: 'Equipo',
        settings: 'Configuración',
        recentActivity: 'Actividad Reciente',
        quickActions: 'Acciones Rápidas',
        notifications: 'Notificaciones',
        noNotifications: 'Sin notificaciones',
        markAllRead: 'Marcar todo como leído',
        viewAll: 'Ver Todo',
      },

      // Platform
      platform: {
        title: 'Plataforma AI',
        description: 'Construye y despliega agentes de IA con facilidad',
        features: 'Características',
        pricing: 'Precios',
        documentation: 'Documentación',
        support: 'Soporte',
        community: 'Comunidad',
        marketplace: 'Mercado',
        templates: 'Plantillas',
        agents: 'Agentes',
        workflows: 'Flujos de Trabajo',
        integrations: 'Integraciones',
        api: 'API',
        sdk: 'SDK',
        examples: 'Ejemplos',
        tutorials: 'Tutoriales',
        blog: 'Blog',
        news: 'Noticias',
        updates: 'Actualizaciones',
        changelog: 'Registro de Cambios',
        roadmap: 'Hoja de Ruta',
        status: 'Estado',
        security: 'Seguridad',
        compliance: 'Cumplimiento',
        privacy: 'Privacidad',
        terms: 'Términos',
        legal: 'Legal',
      },

      // Pricing
      pricing: {
        title: 'Precios',
        subtitle: 'Elige el plan que se adapte a tus necesidades',
        monthly: 'Mensual',
        yearly: 'Anual',
        save: 'Ahorra {{percent}}%',
        popular: 'Popular',
        recommended: 'Recomendado',
        getStarted: 'Comenzar',
        contactSales: 'Contactar Ventas',
        freeTrial: 'Prueba Gratuita',
        cancelAnytime: 'Cancela en cualquier momento',
        noCreditCard: 'No se requiere tarjeta de crédito',
        features: 'Características',
        includes: 'Incluye',
        notIncluded: 'No incluido',
        customPricing: 'Precios Personalizados',
        enterprise: 'Empresa',
        contactUs: 'Contáctanos',
        comparePlans: 'Comparar Planes',
        seeAllFeatures: 'Ver Todas las Características',
        hideFeatures: 'Ocultar Características',
      },

      // Errors
      errors: {
        pageNotFound: 'Página No Encontrada',
        pageNotFoundDescription: 'La página que buscas no existe.',
        serverError: 'Error del Servidor',
        serverErrorDescription: 'Algo salió mal de nuestro lado. Por favor intenta de nuevo más tarde.',
        networkError: 'Error de Red',
        networkErrorDescription: 'Por favor verifica tu conexión a internet e intenta de nuevo.',
        unauthorized: 'No Autorizado',
        unauthorizedDescription: 'No tienes permiso para acceder a este recurso.',
        forbidden: 'Prohibido',
        forbiddenDescription: 'El acceso a este recurso está prohibido.',
        tooManyRequests: 'Demasiadas Solicitudes',
        tooManyRequestsDescription: 'Has hecho demasiadas solicitudes. Por favor intenta de nuevo más tarde.',
        validationError: 'Error de Validación',
        validationErrorDescription: 'Por favor verifica tu entrada e intenta de nuevo.',
        genericError: 'Ocurrió un error inesperado',
        genericErrorDescription: 'Por favor intenta de nuevo o contacta soporte si el problema persiste.',
      },

      // Success Messages
      success: {
        saved: 'Cambios guardados exitosamente',
        created: 'Creado exitosamente',
        updated: 'Actualizado exitosamente',
        deleted: 'Eliminado exitosamente',
        sent: 'Enviado exitosamente',
        uploaded: 'Subido exitosamente',
        downloaded: 'Descargado exitosamente',
        copied: 'Copiado al portapapeles',
        shared: 'Compartido exitosamente',
        published: 'Publicado exitosamente',
        unpublished: 'Despublicado exitosamente',
        activated: 'Activado exitosamente',
        deactivated: 'Desactivado exitosamente',
        enabled: 'Habilitado exitosamente',
        disabled: 'Deshabilitado exitosamente',
      },

      // Time and Date
      time: {
        now: 'Ahora',
        today: 'Hoy',
        yesterday: 'Ayer',
        tomorrow: 'Mañana',
        thisWeek: 'Esta Semana',
        lastWeek: 'Semana Pasada',
        nextWeek: 'Próxima Semana',
        thisMonth: 'Este Mes',
        lastMonth: 'Mes Pasado',
        nextMonth: 'Próximo Mes',
        thisYear: 'Este Año',
        lastYear: 'Año Pasado',
        nextYear: 'Próximo Año',
        ago: 'Hace {{time}}',
        in: 'En {{time}}',
        seconds: '{{count}} segundo',
        seconds_plural: '{{count}} segundos',
        minutes: '{{count}} minuto',
        minutes_plural: '{{count}} minutos',
        hours: '{{count}} hora',
        hours_plural: '{{count}} horas',
        days: '{{count}} día',
        days_plural: '{{count}} días',
        weeks: '{{count}} semana',
        weeks_plural: '{{count}} semanas',
        months: '{{count}} mes',
        months_plural: '{{count}} meses',
        years: '{{count}} año',
        years_plural: '{{count}} años',
      },

      // File Upload
      upload: {
        title: 'Subir Archivos',
        dragDrop: 'Arrastra y suelta archivos aquí, o haz clic para seleccionar',
        selectFiles: 'Seleccionar Archivos',
        uploading: 'Subiendo...',
        uploadComplete: 'Subida completa',
        uploadFailed: 'Subida fallida',
        fileTooLarge: 'El archivo es muy grande',
        fileTypeNotSupported: 'Tipo de archivo no soportado',
        maxFilesExceeded: 'Número máximo de archivos excedido',
        removeFile: 'Eliminar archivo',
        retryUpload: 'Reintentar subida',
        cancelUpload: 'Cancelar subida',
        uploadProgress: 'Progreso de subida: {{percent}}%',
      },

      // AI Features
      ai: {
        title: 'Características de IA',
        chat: 'Chat de IA',
        assistant: 'Asistente de IA',
        generate: 'Generar',
        analyze: 'Analizar',
        optimize: 'Optimizar',
        predict: 'Predecir',
        recommend: 'Recomendar',
        translate: 'Traducir',
        summarize: 'Resumir',
        extract: 'Extraer',
        classify: 'Clasificar',
        detect: 'Detectar',
        recognize: 'Reconocer',
        process: 'Procesar',
        thinking: 'Pensando...',
        processing: 'Procesando...',
        generating: 'Generando...',
        analyzing: 'Analizando...',
        complete: 'Completo',
        failed: 'Fallido',
        retry: 'Reintentar',
        newChat: 'Nuevo Chat',
        clearChat: 'Limpiar Chat',
        exportChat: 'Exportar Chat',
        shareChat: 'Compartir Chat',
        saveChat: 'Guardar Chat',
        loadChat: 'Cargar Chat',
        deleteChat: 'Eliminar Chat',
      },
    },
  },
};

// Initialize i18n
i18n
  .use(LanguageDetector)
  .use(initReactI18next)
  .init({
    resources,
    fallbackLng: 'en',
    debug: process.env.NODE_ENV === 'development',
    
    interpolation: {
      escapeValue: false, // React already does escaping
    },
    
    detection: {
      order: ['localStorage', 'navigator', 'htmlTag'],
      caches: ['localStorage'],
    },
    
    react: {
      useSuspense: false,
    },
  });

export default i18n;

// Utility functions
export const useTranslation = () => {
  const { t, i18n } = require('react-i18next');
  return { t, i18n };
};

export const changeLanguage = (lng: string) => {
  i18n.changeLanguage(lng);
};

export const getCurrentLanguage = () => {
  return i18n.language;
};

export const getAvailableLanguages = () => {
  return Object.keys(resources);
};

// Translation hook with type safety
export const useT = () => {
  const { t } = useTranslation();
  return t;
};